<html><head>
<meta http-equiv="content-type" content="text/html;charset=koi8-r">
</head>
<body><pre>
Этот эмулятор БК-0010 (пока только БК-0010, у меня нет никакой
информации об устройстве БК-0011(м)) сделан путём постепенной
модификации эмулятора PDP-11, содержащего следующее извещение:

Copyright 1994, Eric A. Edwards

Permission to use, copy, modify, and distribute this
software and its documentation for any purpose and without
fee is hereby granted, provided that the above copyright
notice appear in all copies.  Eric A. Edwards makes no
representations about the suitability of this software
for any purpose.  It is provided "as is" without expressed
or implied warranty.

Замечания по установке:

Для компиляции нужно установить пакет SDL (www.libsdl.org). Я пользовался
версией 1.2.5.

gcc (я пользовался версией 3.2.2) должен скомпилировать все без проблем.

Перед запуском убедитесь, что каталог, где находятся программы
maketape и readtape, упомянут в PATH. Эти две программы используются
для эмуляции магнитофона.

Служебные файлы прошивок (*.ROM, их имена совместимы с именами,
используемыми в других эмуляторах) должны находиться или в каталоге /usr/share/bk,
или в каталоге, указанном в переменной окружения BK_PATH. Если
эта переменная установлена с пустым значением, все служебные файлы
ищутся в текущем каталоге. 

Аргументы командной строки:

-a - выключить автозапуск
-n - выключить звук (no noise)
-f - full speed (не синхронизировать модельное время БК с реальным)
	если указан -f, но не указан -n, то синхронизация звука
	с изображением не гарантируется
-c - цветной экран при старте
-D - экран двойного размера при старте
-lфайл - печатать (напр, по команде LLIST в Бейсике) в "файл",
	по умолчанию принтер отсутствует, чтобы не конфликтовать
	с программами, определяющими наличие джойстика
-Rфайл - заменить ROM по адресу 120000 на файл (если без слешей -
	то в каталоге служебных файлов, если со слешами, то по
	стандартным правилам поиска файлов); просто -R включает
	16K RAM 120000-157777.
-rфайл - подключить ROM по адресу 160000

Ключи -c и -D обычно не нужны, т.к. цветность и размер
переключаются кнопкой Scroll Lock.

ВНИМАНИЕ: клавиша АР2 имитируется не Alt-ом (он в Линуксе
обычно захвачен оконным менеджером), а левым Win-ом (между
левыми Ctrl и Alt), или тем, что назначено на KeySym LSuper.
 
Файлы (в формате .bin, т.е. 2 байта начало, 2 байта длина, данные)
можно загружать как "по-настоящему" (напр. из монитора
командой М) - при этом можно указывать юниксные пути,
лишь бы длина имени не была больше 16 символов,
так и путем нажатия клавиши F12.  В текстовом окне, из которого
был запущен эмулятор, появится приглашение NAME? После загрузки
будет сообщен начальный адрес загрузки и предполагаемые адреса автозапуска.
  
Запись файлов "по-настоящему" (например, SAVE или CSAVE в Бейсике)
создает файлы в формате .bin (ровно с тем именем, под которым
производилась запись, исключая концевые пробелы) в текущем каталоге
(или, если в имени файла были слеши, то в нижележащем, если каталог
существует).

Обратите внимание, что никакие системные адреса не перехватываются,
а вся работа с "магнитофоном" полностью эмулируется.

Новости:

2003-09-28: Режим БК-0011М практически работает, за исключением
мелких деталей (быстрое переключение палитр, работа с магнитофоном,
блокировка СТОП и т.п.)

2003-09-17: Учет времени выполнения операций теперь делается в тактах
процессора, а не в десятых долях микросекунды. Реализована поддержка
записи на флоппи-диск. Первая проба поддержки мыши (ключ -m, пока
не документирован; захват/отпускание курсора мыши в окне эмулятора - 
нажатием средней кнопки).

2003-09-15: Реализована поддержка чтения из образа флоппи-диска при использовании
прошивок 326 или 327.

2003-09-10: Начата (пока только чтение) реализация поддержки режима ускоренного
обмена с магнитофоном путем перехвата системных адресов.
Выбор такого режима производится при компиляции с помощью указания
опции -DFAKE_TAPE.

2003-09: Качество звука улучшено - клавесин, BKDEMO и говорун звучат очень неплохо.

Введена возможность делать reset (переход на адрес 100000): 
АР2 + F11.

	Leo
</pre></body></html>
